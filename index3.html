<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
		<title>CEMON</title>
		<link rel="icon" type="image/png" href="images/favicon.ico"/>
		<link rel="stylesheet" href="./css/styles.css">
		<link href="https://fonts.googleapis.com/css?family=Fjalla+One|Source+Sans+Pro" rel="stylesheet">
		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
	 		crossorigin="anonymous">
</head>

<body>
	<center>
	<header class="header"></header>
	<section class="hero">
		<h1 id="titulazo">
			<strong>CEMON Banco 2</strong>
		</h1>
	</section>
    <section id="portafolio" class="portfolio">
		<h2>Consulta del servicio</h2>
		<h3 class="project-title">Servicios de <strong>Comercio Electronico</strong></h3>
		<article class="project">
			<div class="project-details">
			<div class="form-group project-details">
                <p>Consulta Interna Banco 2</p>
				<label for="date">Fecha:</label>
				<input type="month" id="date">
				<br>
				<br>
				<button type="submit" class="btn btn-primary" id="botoncio">Consultar</button>
			</div>
				<table id="finally" border="2">
					<tr>
						<td>Database Disponibility: </td>
						<td id="Database"></td>
						<td>
							<img src="./images/good.png" class="resultado" id="good1">
							<img src="./images/bad.png" class="resultado" id="bad1">
						</td>
					</tr>
					<tr>
						<td>Hardware Disponibility: </td>
						<td id="Hardware"></td>
						<td>
							<img src="./images/good.png" class="resultado" id="good2">
							<img src="./images/bad.png" class="resultado" id="bad2">
						</td>
					</tr>
					<tr>
						<td>Application Disponibility: </td>
						<td id="Application"></td>
						<td>
							<img src="./images/good.png" class="resultado" id="good3">
							<img src="./images/bad.png" class="resultado" id="bad3">
						</td>
					</tr>
					<tr>
						<td>Network Disponibility: </td>
						<td id="Network"></td>
						<td>
							<img src="./images/good.png" class="resultado" id="good4">
						  	<img src="./images/bad.png" class="resultado" id="bad4">
						</td>
					</tr>
					<tr>
						<td>Router Disponibility: </td>
						<td id="Router"></td>
						<td>
							<img src="./images/good.png" class="resultado" id="good5">
							<img src="./images/bad.png" class="resultado" id="bad5">
						</td>
					</tr>
					<tr>
						<td>Total Disponibility: </td>
						<td id="Total"></td>
					</tr>
					<tr>
						<td id="calculo">1</td>
					</tr>
				</table>
            </div>        
            <div class="project-details">
			
                <div class="form-group project-details">
                    <p>Consulta Banco 1</p>
                    <label for="date">Fecha:</label>
                    <input type="month" id="date">
                    <br>
                    <br>
                    <button type="submit" class="btn btn-primary" id="botoncio_b2">Consultar</button>
    
    
                </div>
                    <table id="finally" border="2">
                        <tr>
                            <td>Database Disponibility: </td>
                            <td id="Database"></td>
                            <td>
                                <img src="./images/good.png" class="resultado" id="good1">
                                <img src="./images/bad.png" class="resultado" id="bad1">
                            </td>
                        </tr>
                        <tr>
                            <td>Hardware Disponibility: </td>
                            <td id="Hardware"></td>
                            <td>
                                <img src="./images/good.png" class="resultado" id="good2">
                                <img src="./images/bad.png" class="resultado" id="bad2">
                            </td>
                        </tr>
                        <tr>
                            <td>Application Disponibility: </td>
                            <td id="Application"></td>
                            <td>
                                <img src="./images/good.png" class="resultado" id="good3">
                                <img src="./images/bad.png" class="resultado" id="bad3">
                            </td>
                        </tr>
                        <tr>
                            <td>Network Disponibility: </td>
                            <td id="Network"></td>
                            <td>
                                <img src="./images/good.png" class="resultado" id="good4">
                                  <img src="./images/bad.png" class="resultado" id="bad4">
                            </td>
                        </tr>
                        <tr>
                            <td>Router Disponibility: </td>
                            <td id="Router"></td>
                            <td>
                                <img src="./images/good.png" class="resultado" id="good5">
                                <img src="./images/bad.png" class="resultado" id="bad5">
                            </td>
                        </tr>
                        <tr>
                            <td>Total Disponibility: </td>
                            <td id="Total"></td>
                        </tr>
                        <tr>
                            <td id="calculo">1</td>
                        </tr>
                    </table>
                </div>
                <div class="project-details">
			
                    <div class="form-group project-details">
                        <p>Consulta Distribuidor 1</p>
                        <label for="date">Fecha:</label>
                        <input type="month" id="date">
                        <br>
                        <br>
                        <button type="submit" class="btn btn-primary" id="botoncio_d1">Consultar</button>
        
        
                    </div>
                        <table id="finally" border="2">
                            <tr>
                                <td>Database Disponibility: </td>
                                <td id="Database"></td>
                                <td>
                                    <img src="./images/good.png" class="resultado" id="good1">
                                    <img src="./images/bad.png" class="resultado" id="bad1">
                                </td>
                            </tr>
                            <tr>
                                <td>Hardware Disponibility: </td>
                                <td id="Hardware"></td>
                                <td>
                                    <img src="./images/good.png" class="resultado" id="good2">
                                    <img src="./images/bad.png" class="resultado" id="bad2">
                                </td>
                            </tr>
                            <tr>
                                <td>Application Disponibility: </td>
                                <td id="Application"></td>
                                <td>
                                    <img src="./images/good.png" class="resultado" id="good3">
                                    <img src="./images/bad.png" class="resultado" id="bad3">
                                </td>
                            </tr>
                            <tr>
                                <td>Network Disponibility: </td>
                                <td id="Network"></td>
                                <td>
                                    <img src="./images/good.png" class="resultado" id="good4">
                                      <img src="./images/bad.png" class="resultado" id="bad4">
                                </td>
                            </tr>
                            <tr>
                                <td>Router Disponibility: </td>
                                <td id="Router"></td>
                                <td>
                                    <img src="./images/good.png" class="resultado" id="good5">
                                    <img src="./images/bad.png" class="resultado" id="bad5">
                                </td>
                            </tr>
                            <tr>
                                <td>Total Disponibility: </td>
                                <td id="Total"></td>
                            </tr>
                            <tr>
                                <td id="calculo">1</td>
                            </tr>
                        </table>
                    </div>
                    <div class="project-details">
			
                        <div class="form-group project-details">
                            <p>Consulta Distribuidor 2</p>
                            <label for="date">Fecha:</label>
                            <input type="month" id="date">
                            <br>
                            <br>
                            <button type="submit" class="btn btn-primary" id="botoncio_d2">Consultar</button>
            
            
                        </div>
                            <table id="finally" border="2">
                                <tr>
                                    <td>Database Disponibility: </td>
                                    <td id="Database"></td>
                                    <td>
                                        <img src="./images/good.png" class="resultado" id="good1">
                                        <img src="./images/bad.png" class="resultado" id="bad1">
                                    </td>
                                </tr>
                                <tr>
                                    <td>Hardware Disponibility: </td>
                                    <td id="Hardware"></td>
                                    <td>
                                        <img src="./images/good.png" class="resultado" id="good2">
                                        <img src="./images/bad.png" class="resultado" id="bad2">
                                    </td>
                                </tr>
                                <tr>
                                    <td>Application Disponibility: </td>
                                    <td id="Application"></td>
                                    <td>
                                        <img src="./images/good.png" class="resultado" id="good3">
                                        <img src="./images/bad.png" class="resultado" id="bad3">
                                    </td>
                                </tr>
                                <tr>
                                    <td>Network Disponibility: </td>
                                    <td id="Network"></td>
                                    <td>
                                        <img src="./images/good.png" class="resultado" id="good4">
                                          <img src="./images/bad.png" class="resultado" id="bad4">
                                    </td>
                                </tr>
                                <tr>
                                    <td>Router Disponibility: </td>
                                    <td id="Router"></td>
                                    <td>
                                        <img src="./images/good.png" class="resultado" id="good5">
                                        <img src="./images/bad.png" class="resultado" id="bad5">
                                    </td>
                                </tr>
                                <tr>
                                    <td>Total Disponibility: </td>
                                    <td id="Total"></td>
                                </tr>
                                <tr>
                                    <td id="calculo">1</td>
                                </tr>
                            </table>
                        </div>
                        <div class="project-details">
			
                            <div class="form-group project-details">
                                <p>Consulta Tienda 1</p>
                                <label for="date">Fecha:</label>
                                <input type="month" id="date_t1">
                                <br>
                                <br>
                                <button type="submit" class="btn btn-primary" id="botoncio_t1">Consultar</button>
                
                
                            </div>
                                <table id="finally" border="2">
                                    <tr>
                                        <td>Database Disponibility: </td>
                                        <td id="Base de Datos"></td>
                                        <td>
                                            <img src="./images/good.png" class="resultado" id="good1_t1">
                                            <img src="./images/bad.png" class="resultado" id="bad1_t1">
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>Hardware Disponibility: </td>
                                        <td id="Hardware_t1"></td>
                                        <td>
                                            <img src="./images/good.png" class="resultado" id="good2_t1">
                                            <img src="./images/bad.png" class="resultado" id="bad2_t1">
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>Application Disponibility: </td>
                                        <td id="Application_t1"></td>
                                        <td>
                                            <img src="./images/good.png" class="resultado" id="good3_t1">
                                            <img src="./images/bad.png" class="resultado" id="bad3_t1">
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>Network Disponibility: </td>
                                        <td id="Network_t1"></td>
                                        <td>
                                            <img src="./images/good.png" class="resultado" id="good4_t1">
                                              <img src="./images/bad.png" class="resultado" id="bad4_t1">
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>Router Disponibility: </td>
                                        <td id="Router_t1"></td>
                                        <td>
                                            <img src="./images/good.png" class="resultado" id="good5_t1">
                                            <img src="./images/bad.png" class="resultado" id="bad5_t1">
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>Total Disponibility: </td>
                                        <td id="Total_t1"></td>
                                    </tr>
                                    <tr>
                                        <td id="calculo_t1"></td>
                                    </tr>
                                </table>
                            </div>
                            <div class="project-details">
			
                                <div class="form-group project-details">
                                    <p>Consulta Tienda 2</p>
                                    <label for="date">Fecha:</label>
                                    <input type="month" id="date">
                                    <br>
                                    <br>
                                    <button type="submit" class="btn btn-primary" id="botoncio_t2">Consultar</button>
                    
                    
                                </div>
                                    <table id="finally" border="2">
                                        <tr>
                                            <td>Database Disponibility: </td>
                                            <td id="Database"></td>
                                            <td>
                                                <img src="./images/good.png" class="resultado" id="good1">
                                                <img src="./images/bad.png" class="resultado" id="bad1">
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Hardware Disponibility: </td>
                                            <td id="Hardware"></td>
                                            <td>
                                                <img src="./images/good.png" class="resultado" id="good2">
                                                <img src="./images/bad.png" class="resultado" id="bad2">
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Application Disponibility: </td>
                                            <td id="Application"></td>
                                            <td>
                                                <img src="./images/good.png" class="resultado" id="good3">
                                                <img src="./images/bad.png" class="resultado" id="bad3">
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Network Disponibility: </td>
                                            <td id="Network"></td>
                                            <td>
                                                <img src="./images/good.png" class="resultado" id="good4">
                                                  <img src="./images/bad.png" class="resultado" id="bad4">
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Router Disponibility: </td>
                                            <td id="Router"></td>
                                            <td>
                                                <img src="./images/good.png" class="resultado" id="good5">
                                                <img src="./images/bad.png" class="resultado" id="bad5">
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Total Disponibility: </td>
                                            <td id="Total"></td>
                                        </tr>
                                        <tr>
                                            <td id="calculo">1</td>
                                        </tr>
                                    </table>
                                </div>
		</article>
	</section>
</center>


	<script type="text/javascript">
		const form = {
			date: document.getElementById('date'),
			submit: document.getElementById('botoncio')
		};
		form.submit.addEventListener('click', doAll) 
		
		
		
		function doAll() {
			const request = new XMLHttpRequest();
			var okStatus;

			request.timeout = 1000;

			request.onload = () => {

				var response = JSON.parse(request.responseText);
				if (request.readyState == 4 && request.status == "200") {
					document.getElementById(`${response.name}`).innerHTML = Math.trunc(response.disponibility * 100) + "%";
					
					var texto = document.getElementById('calculo').innerText;
					var calculamesta = parseFloat(texto);
					console.log(calculamesta);
					calculamesta *= response.disponibility;
					document.getElementById('calculo').innerHTML = calculamesta;

					if(response.disponibility * 100 > 20) {
						document.getElementById('good1').style.display = "block";
						document.getElementById('bad1').style.display = "none";
					}
					else {
						document.getElementById('bad1').style.display = "block";
						document.getElementById('good1').style.display = "none";
					}
				} else {
					document.getElementById('bad1').style.display = "block";
					document.getElementById('good1').style.display = "none";
					document.getElementById('calculo').innerHTML = 0;
					document.getElementById(`${response.name}`).innerHTML = "No response";
					okStatus = -1;
				}
			};

			var data = {};
			data.name = "Database";
			data.date = `${form.date.value}`;

			console.log(data);

			request.open('POST', 'https://cemon-banco-2.herokuapp.com/component/database', true);
			request.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
			request.ontimeout = () => { document.getElementById("Database").innerHTML = "No response"; okStatus = -1; }
			request.send(JSON.stringify(data));

			///////////////termina Database

			const request2 = new XMLHttpRequest();

			request2.timeout = 1000;

			request2.onload = () => {

				var response = JSON.parse(request2.responseText);
				if (request2.readyState == 4 && request2.status == "200") {
					document.getElementById(`${response.name}`).innerHTML = Math.trunc(response.disponibility * 100) + "%";
					
					var texto = document.getElementById('calculo').innerText;
					var calculamesta = parseFloat(texto);
					console.log(calculamesta);
					calculamesta *= response.disponibility;
					document.getElementById('calculo').innerHTML = calculamesta;
					
					if(response.disponibility * 100 > 20) {
						document.getElementById('good2').style.display = "block";
						document.getElementById('bad2').style.display = "none";
					}
					else {
						document.getElementById('bad2').style.display = "block";
						document.getElementById('good2').style.display = "none";
					}
				} else {
					document.getElementById(`${response.name}`).innerHTML = "No response";
					okStatus = -1;
					document.getElementById('bad2').style.display = "block";
					document.getElementById('good2').style.display = "none";
					document.getElementById('calculo').innerHTML = 0;
				}
			};

			data.name = "Hardware";

			console.log(data);

			request2.open('POST', 'https://cemon-banco-2.herokuapp.com/component/hardware', true);
			request2.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
			request2.ontimeout = () => { document.getElementById("Hardware").innerHTML = "No response"; okStatus = -1; }
			request2.send(JSON.stringify(data));

			//////////////termina Hardware

			const request3 = new XMLHttpRequest();

			request3.timeout = 1000;

			request3.onload = () => {

				var response = JSON.parse(request3.responseText);
				if (request3.readyState == 4 && request3.status == "200") {
					document.getElementById(`${response.name}`).innerHTML = Math.trunc(response.disponibility * 100) + "%";
					
					var texto = document.getElementById('calculo').innerText;
					var calculamesta = parseFloat(texto);
					console.log(calculamesta);
					calculamesta *= response.disponibility;
					document.getElementById('calculo').innerHTML = calculamesta;

					if(response.disponibility * 100 > 20) {
						document.getElementById('good3').style.display = "block";
						document.getElementById('bad3').style.display = "none";
					}
					else {
						document.getElementById('bad3').style.display = "block";
						document.getElementById('good3').style.display = "none";
					}
				} else {
					document.getElementById(`${response.name}`).innerHTML = "No response";
					okStatus = -1;
					document.getElementById('bad3').style.display = "block";
					document.getElementById('good3').style.display = "none";
					document.getElementById('calculo').innerHTML = 0;
				}
			};

			data.name = "Application";

			console.log(data);

			request3.open('POST', 'https://cemon-banco-2.herokuapp.com/component/application', true);
			request3.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
			request3.ontimeout = () => { document.getElementById("Application").innerHTML = "No response"; okStatus = -1; }
			request3.send(JSON.stringify(data));

			///////////////termina application

			const request4 = new XMLHttpRequest();

			request4.timeout = 1000;

			request4.onload = () => {

				var response = JSON.parse(request4.responseText);
				if (request4.readyState == 4 && request4.status == "200") {
					document.getElementById(`${response.name}`).innerHTML = Math.trunc(response.disponibility * 100) + "%";
					
					var texto = document.getElementById('calculo').innerText;
					var calculamesta = parseFloat(texto);
					console.log(calculamesta);
					calculamesta *= response.disponibility;
					document.getElementById('calculo').innerHTML = calculamesta;
					
					if(response.disponibility * 100 > 20) {
						document.getElementById('good4').style.display = "block";
						document.getElementById('bad4').style.display = "none";
					}
					else {
						document.getElementById('bad4').style.display = "block";
						document.getElementById('good4').style.display = "none";
					}
				} else {
					document.getElementById(`${response.name}`).innerHTML = "No response";
					okStatus = -1;
					document.getElementById('bad4').style.display = "block";
					document.getElementById('good4').style.display = "none";
					document.getElementById('calculo').innerHTML = 0;
				}
			};

			data.name = "Network";

			console.log(data);

			request4.open('POST', 'https://cemon-banco-2.herokuapp.com/component/network', true);
			request4.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
			request4.ontimeout = () => { document.getElementById("Network").innerHTML = "No response"; okStatus = -1; }
			request4.send(JSON.stringify(data));

			/////////////////termina network

			const request5 = new XMLHttpRequest();

			request5.timeout = 1000;

			request5.onload = () => {
				var response = JSON.parse(request5.responseText);
				if (request5.readyState == 4 && request5.status == "200") {
					document.getElementById(`${response.name}`).innerHTML = Math.trunc(response.disponibility * 100) + "%";
					
					var texto = document.getElementById('calculo').innerText;
					var calculamesta = parseFloat(texto);
					console.log(calculamesta);
					calculamesta *= response.disponibility;
					document.getElementById('calculo').innerHTML = calculamesta;

					if(response.disponibility * 100 > 20) {
						document.getElementById('good5').style.display = "block";
						document.getElementById('bad5').style.display = "none";
					}
					else {
						document.getElementById('bad5').style.display = "block";
						document.getElementById('good5').style.display = "none";
					}
				} else {
					document.getElementById('bad1').style.display = "block";
					document.getElementById('good1').style.display = "none";
					document.getElementById('calculo').innerHTML = 0;
					document.getElementById(`${response.name}`).innerHTML = "No response";
					okStatus = -1;
				}
			};

			data.name = "Router";

			console.log(data);

			request5.open('POST', 'https://cemon-banco-2.herokuapp.com/component/router', true);
			request5.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
			request5.ontimeout = () => { document.getElementById("Router").innerHTML = "No response"; okStatus = -1; }
			request5.send(JSON.stringify(data));

			console.log(okStatus);
			if (okStatus == -1) {
				document.getElementById("Total").innerHTML = "0%";
			}

			

			setTimeout(function(){
				var texto = document.getElementById('calculo').innerText;
				var total = parseFloat(texto);
				console.log(texto);
				document.getElementById('Total').innerHTML = Math.trunc(total * 100) + "%";
				document.getElementById('calculo').innerHTML = 1;
				}, 1500);
		};


    </script>
    
    <script type="text/javascript">
		const form_t1 = {
			date: document.getElementById('date_t1'),
			submit: document.getElementById('botoncio_t1')
		};
		form_t1.submit.addEventListener('click', doAll_t1) 
		
		
		
		function doAll_t1() {
			const request = new XMLHttpRequest();
			var okStatus;

			request.timeout = 1000;

			request.onload = () => {

				var response = JSON.parse(request.responseText);
				if (request.readyState == 4 && request.status == "200") {
					document.getElementById(`${response.name}`).innerHTML = Math.trunc(response.value * 100) + "%";
					
					var texto = document.getElementById('calculo_t1').innerText;
					var calculamesta = parseFloat(texto);
					console.log(calculamesta);
					calculamesta *= response.disponibility;
					document.getElementById('calculo_t1').innerHTML = calculamesta;

					if(response.disponibility * 100 > 20) {
						document.getElementById('good1_t1').style.display = "block";
						document.getElementById('bad1_t1').style.display = "none";
					}
					else {
						document.getElementById('bad1_t1').style.display = "block";
						document.getElementById('good1_t1').style.display = "none";
					}
				} else {
					document.getElementById('bad1_t1').style.display = "block";
					document.getElementById('good1_t1').style.display = "none";
					document.getElementById('calculo_t1').innerHTML = 0;
					document.getElementById(`${response.name}`).innerHTML = "No response";
					okStatus = -1;
				}
			};

			var data = {};
			data.name = "Base de Datos";
			data.date = `${form_t1.date.value}`;

			console.log(data);

			request.open('POST', 'https://tiendauno-comercio-node.herokuapp.com/Nodo2', true);
			request.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
			request.ontimeout = () => { document.getElementById("Base de Datos").innerHTML = "No response"; okStatus = -1; }
			request.send(JSON.stringify(data));

			///////////////termina Database

			const request2 = new XMLHttpRequest();

			request2.timeout = 1000;

			request2.onload = () => {

				var response = JSON.parse(request2.responseText);
				if (request2.readyState == 4 && request2.status == "200") {
					
                    document.getElementById(`${response.name}`).innerHTML = Math.trunc(response.value * 100) + "%";
					
					var texto = document.getElementById('calculo_t1').innerText;
					var calculamesta = parseFloat(texto);
					console.log(calculamesta);
					calculamesta *= response.disponibility;
					document.getElementById('calculo_t1').innerHTML = calculamesta;
					
					if(response.disponibility * 100 > 20) {
						document.getElementById('good2_t1').style.display = "block";
						document.getElementById('bad2_t1').style.display = "none";
					}
					else {
						document.getElementById('bad2_t1').style.display = "block";
						document.getElementById('good2_t1').style.display = "none";
					}
				} else {
					document.getElementById(`${response.name}`).innerHTML = "No response";
					okStatus = -1;
					document.getElementById('bad2_t1').style.display = "block";
					document.getElementById('good2_t1').style.display = "none";
					document.getElementById('calculo_t1').innerHTML = 0;
				}
			};

			data.name = "Hardware";

			console.log(data);

			request2.open('POST', 'https://tiendauno-comercio-node.herokuapp.com/Nodo1  ', true);
			request2.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
			request2.ontimeout = () => { document.getElementById("Hardware").innerHTML = "No response"; okStatus = -1; }
			request2.send(JSON.stringify(data));

			//////////////termina Hardware

			const request3 = new XMLHttpRequest();

			request3.timeout = 1000;

			request3.onload = () => {

				var response = JSON.parse(request3.responseText);
				if (request3.readyState == 4 && request3.status == "200") {
					document.getElementById(`${response.name}`).innerHTML = Math.trunc(response.disponibility * 100) + "%";
					
					var texto = document.getElementById('calculo_t1').innerText;
					var calculamesta = parseFloat(texto);
					console.log(calculamesta);
					calculamesta *= response.disponibility;
					document.getElementById('calculo_t1').innerHTML = calculamesta;

					if(response.disponibility * 100 > 20) {
						document.getElementById('good3_t1').style.display = "block";
						document.getElementById('bad3_t1').style.display = "none";
					}
					else {
						document.getElementById('bad3_t1').style.display = "block";
						document.getElementById('good3_t1').style.display = "none";
					}
				} else {
					document.getElementById(`${response.name}`).innerHTML = "No response";
					okStatus = -1;
					document.getElementById('bad3_t1').style.display = "block";
					document.getElementById('good3_t1').style.display = "none";
					document.getElementById('calculo_t1').innerHTML = 0;
				}
			};

			data.name = "Aplicación";

			console.log(data);

			request3.open('POST', ' https://tiendauno-comercio-node.herokuapp.com/Nodo3', true);
			request3.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
			request3.ontimeout = () => { document.getElementById("Application_t1").innerHTML = "No response"; okStatus = -1; }
			request3.send(JSON.stringify(data));

			///////////////termina application

			const request4 = new XMLHttpRequest();

			request4.timeout = 1000;

			request4.onload = () => {

				var response = JSON.parse(request4.responseText);
				if (request4.readyState == 4 && request4.status == "200") {
					document.getElementById(`${response.name}`).innerHTML = Math.trunc(response.value * 100) + "%";
					
					var texto = document.getElementById('calculo_t1').innerText;
					var calculamesta = parseFloat(texto);
					console.log(calculamesta);
					calculamesta *= response.disponibility;
					document.getElementById('calculo_t1').innerHTML = calculamesta;
					
					if(response.disponibility * 100 > 20) {
						document.getElementById('good4_t1').style.display = "block";
						document.getElementById('bad4').style.display = "none";
					}
					else {
						document.getElementById('bad4').style.display = "block";
						document.getElementById('good4_t1').style.display = "none";
					}
				} else {
					document.getElementById(`${response.name}`).innerHTML = "No response";
					okStatus = -1;
					document.getElementById('bad4_t1').style.display = "block";
					document.getElementById('good4_t1').style.display = "none";
					document.getElementById('calculo_t1').innerHTML = 0;
				}
			};

			data.name = "Enlace Internet";

			console.log(data);

			request4.open('POST', 'https://tiendauno-comercio-node.herokuapp.com/Nodo4', true);
			request4.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
			request4.ontimeout = () => { document.getElementById("Network_t1").innerHTML = "No response"; okStatus = -1; }
			request4.send(JSON.stringify(data));

			/////////////////termina network

			const request5_t1 = new XMLHttpRequest();

			request5_t1.timeout = 1000;

			request5_t1.onload = () => {
				var response = JSON.parse(request5_t1.responseText);
				if (request5_t1.readyState == 4 && request5_t1.status == "200") {
					document.getElementById(`${response.name}`).innerHTML = Math.trunc(response.value * 100) + "%";
					
					var texto = document.getElementById('calculo_t1').innerText;
					var calculamesta = parseFloat(texto);
					console.log(calculamesta);
					calculamesta *= response.disponibility;
					document.getElementById('calculo_t1').innerHTML = calculamesta;

					if(response.disponibility * 100 > 20) {
						document.getElementById('good5_t1').style.display = "block";
						document.getElementById('bad5_t1').style.display = "none";
					}
					else {
						document.getElementById('bad5_t1').style.display = "block";
						document.getElementById('good5_t1').style.display = "none";
					}
				} else {
					document.getElementById('bad1_t1').style.display = "block";
					document.getElementById('good1_t1').style.display = "none";
					document.getElementById('calculo_t1').innerHTML = 0;
					document.getElementById(`${response.name}`).innerHTML = "No response";
					okStatus = -1;
				}
			};

			data.name = "Router Internet";

			console.log(data);

			request5_t1.open('POST', 'https://tiendauno-comercio-node.herokuapp.com/Nodo5', true);
			request5_t1.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
			request5_t1.ontimeout = () => { document.getElementById("Router_t1").innerHTML = "No response"; okStatus = -1; }
			request5_t1.send(JSON.stringify(data));

			console.log(okStatus);
			if (okStatus == -1) {
				document.getElementById("Total_t1").innerHTML = "0%";
			}

			

			setTimeout(function(){
				var texto = document.getElementById('calculo_t1').innerText;
				var total = parseFloat(texto);
				console.log(texto);
				document.getElementById('Total_t1').innerHTML = Math.trunc(total * 100) + "%";
				document.getElementById('calculo_t1').innerHTML = 1;
				}, 1500);
		};


	</script>

</body>

</html>